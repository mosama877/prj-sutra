
const tring = [
    {
        "kay": "tring",
        "id": 1,
        "src": "./assets/images/315A6029.webp",
        "title": "ترينج سترة - ازرق",
        "price": "LE 679.00",
        "kind": "ترينج",
        "color": "ازرق"

    },
    {
        "kay": "tring",
        "id": 2,
        "src": "./assets/images/315A7741.webp",
        "title": "ترينج سترة - اسود",
        "price": "LE 999.00",
        "kind": "ترينج",
        "color": "اسود"
    },
    {
        "kay": "tring",
        "id": 3,
        "src": "./assets/images/315A7744.webp",
        "title": "ترينج سترة - بيج",
        "price": "LE 399.00",
        "kind": "ترينج",
        "color": "بيج"
    },
    {
        "kay": "tring",
        "id": 4,
        "src": "./assets/images/315A7754.jpg",
        "title": "ترينج سترة - زيتي",
        "price": "LE 499.00",
        "kind": "ترينج",
        "color": "زيتي"
    },
    {
        "kay": "tring",
        "id": 5,
        "src": "./assets/images/315A7756.jpg",
        "title": "ترينج سترة - ابيض",
        "price": "LE 679.00",
        "kind": "ترينج",
        "color": "ابيض"

    },
    {
        "kay": "best",
        "id": 6,
        "src": "./assets/images/3tor satra.webp",
        "title": "عطور سترة المميزة",
        "price": "LE 599.00",
        "kind": "عطر",
        "color": "شفاف"
    },
    {
        "kay": "best",
        "id": 7,
        "src": "./assets/images/kamis aswd.webp",
        "title": "قميص اسود",
        "price": "LE 649.00",
        "kind": "قميص",
        "color": "ازرق"
    },
    {
        "kay": "best",
        "id": 8,
        "src": "./assets/images/teshirt sada bugg.webp",
        "title": "تيشرت سادة بيج",
        "price": "LE 199.00",
        "kind": "تيشرت",
        "color": "بيج"
    },
    {
        "kay": "best",
        "id": 9,
        "src": "./assets/images/teshirt over size lonen.webp",
        "title": "تيشرت اوفر سايز لونين",
        "price": "LE 349.00",
        "kind": "تيشرت",
        "color": "ابيض و اسود"
    },
    {
        "kay": "best",
        "id": 10,
        "src": "./assets/images/teshirt over size  mo5tt abyd w.webp",
        "title": "تيشرت اوفر سايز مخطط ",
        "price": "LE 349.00",
        "kind": "تيشرت",
        "color": "مخطط"
    },
    {
        "kay": "tring",
        "id": 11,
        "src": "assets/images/تيشرت سترة اوفر سا اخضر فاتح.webp",
        "title": "تيشيرت Stay Unique تلبيس اوفر سايز - أخضر فاتح",
        "price": "LE 349.00",
        "kind": "تيشرت",
        "color": "أخضر فاتح"
    },
    {
        "kay": "tring",
        "id": 12,
        "src": "assets/images/تيشرت سترة sutreaest اوفر سايز.webp",
        "title": "تيشيرت SUTRA EST تلبيس اوفر سايز - أزرق غامق",
        "price": "LE 349.00",
        "kind": "تيشيرت",
        "color": "أزرق غامق"
    },
    {
        "kay": "tring",
        "id": 13,
        "src": "assets/images/تيشرت بولو بسوسته تلبيس  .webp",
        "title": "تيشيرت بولو بسوستة - أحمر",
        "price": "LE 419.00",
        "kind": "تيشيرت",
        "color": "أحمر"
    },
    {
        "kay": "best",
        "id": 14,
        "src": "./assets/images/11111111.webp",
        "title": "شراب قطن كعب",
        "price": "LE 38.00",
        "kind": "شرابات",
        "color": "رمادى"
    },
    {
        "kay": "best",
        "id": 15,
        "src": "./assets/images/33.webp",
        "title": "محفظة رجالي جلد بتصميم ",
        "price": "LE 249.00",
        "kind": "محفظة",
        "color": "اسود"
    },
    {
        "kay": "best",
        "id": 16,
        "src": "./assets/images/Over_Size_PR-Do_not_Surrender_Beige-M_1.webp",
        "title":"  تيشيرت مطبوع بيج",
        "price": "LE 349.00 ",
        "kind": "تيشيرت",
        "color": " بيج"
    },
    {
        "kay": "kamis",
        "id": 17,
        "src": "assets/images/315A5568-akwa.webp",
        "title":"قميص سترةاكسفورد سادة ",
        "price": "LE 454.00",
        "kind": "قمصان",
        "color": "اميرالد"
    },
    {
        "kay": "kamis",
        "id": 18,
        "src": "assets/images/315A2702_a62c7177-1be5-4591-8f6c-geha-lego.webp",
        "title":"قميص Lego اكمام قصير",
        "price": "LE 199.00 ",
        "kind": "قمصان",
        "color": "أزرق"
    },
    {
        "kay": "kamis",
        "id": 19,
        "src": "assets/images/315A2845_2c77a617-acce-4223-b0de-mshgr.webp",
        "title":"قميص مشجر نخل ",
        "price": "LE 199.00",
        "kind": "قمصان",
        "color": "بيج"
    },
    {
        "kay": "kamis",
        "id": 20,
        "src": "assets/images/315A5553_166f2dcd-e826-48aa-stra boble.webp",
        "title":"قميص سترة بوبلين سادة ",
        "price": "LE 349.00",
        "kind": "قمصان",
        "color": "أسود"
    },
    {
        "kay": "kamis",
        "id": 21,
        "src": "assets/images/315A5651-amerald.webp",
        "title":"قميص سترة اكسفورد سادة",
        "price": "LE 454.00 ",
        "kind": "قمصان",
        "color": "اميرالد"
    },
    {
        "kay": "kamis",
        "id": 22,
        "src": "assets/images/315A5587_e30035c0-005c-46f3-957e-fdy.webp",
        "title":"قميص اكسفورد سادة",
        "price": "LE 454.00 ",
        "kind": "قمصان",
        "color": " فضي"
    },
    {
        "kay": "kamis",
        "id": 23,
        "src": "assets/images/315A5601azrk.webp",
        "title":"قميص اكسفورد سادة",
        "price": "LE 454.00",
        "kind": "قمصان",
        "color": "بيبى بلو"
    },
    {
        "kay": "kamis",
        "id": 24,
        "src": "assets/images/315A5594wrdy.webp",
        "title":"قميص سترة اكسفورد - وردي",
        "price": "LE 454.00",
        "kind": "قمصان",
        "color": "بيبى بلو"
    },
    {
        "kay": "tring",
        "id": 60,
        "src": "./assets/images/315A7735_1_0d62bc2f-3be8-4f6c-bec3-247d86cceccb.webp",
        "title": "ترينج سترة - ازرق فاتح",
        "price": "LE 679.00",
        "kind": "ترينج",
        "color": "ازرق فاتح"
    }
]

document.addEventListener('DOMContentLoaded', function () {

    new Splide('.moba', {
        direction: 'rtl',
        paginationDirection: 'rtl',
        arrows: true,
        pagination: false,
        perPage: 2,
        type: "",
        perMove: 1,
        autoplay: false,
        interval: 3000,
        speed: 800,
    }).mount();
})
document.addEventListener('DOMContentLoaded', function () {

    new Splide('.goma', {
        direction: 'rtl',
        paginationDirection: 'rtl',
        arrows: true,
        pagination: false,
        perPage: 1,
        type: "",
        perMove: 1,
        autoplay: false,
        interval: 3000,
        speed: 800,
    }).mount();
})
document.addEventListener('DOMContentLoaded', function () {

    new Splide('.goo', {
        direction: 'rtl',
        paginationDirection: 'rtl',
        arrows: true,
        pagination: false,
        perPage: 1,
        type: "",
        perMove: 1,
        autoplay: false,
        interval: 3000,
        speed: 800,
    }).mount();
})



    document.addEventListener('DOMContentLoaded', function () {
        
        new Splide('.mok', {
            direction: 'rtl',
            paginationDirection: 'rtl',
            arrows: true,
            pagination: false,
            breakpoints: {
                1023: {
                    perPage: 4,
                },
                767: {
                    perPage: 2,
                },
            },
            perPage: 5,
            type: "",
            perMove: 1,
            autoplay: false,
            interval: 3000,
            speed: 800,
        }).mount();
    })



document.addEventListener('DOMContentLoaded', function () {
        
    new Splide('.lok', {
        direction: 'rtl',
        paginationDirection: 'rtl',
        arrows: true,
        pagination: false,
        breakpoints: {
            1023: {
                perPage: 4,
            },
            767: {
                perPage: 2,
            },
        },
        perPage: 5,
        type: "",
        perMove: 1,
        autoplay: false,
        interval: 3000,
        speed: 800,
    }).mount();
})
document.addEventListener('DOMContentLoaded', function () {
        
    new Splide('.goh', {
        direction: 'rtl',
        paginationDirection: 'rtl',
        arrows: true,
        pagination: false,
        breakpoints: {
            1023: {
                perPage: 4,
            },
            767: {
                perPage: 2,
            },
        },
        perPage: 5,
        type: "",
        perMove: 1,
        autoplay: false,
        interval: 3000,
        speed: 800,
    }).mount();
})





const lsOne = document.querySelector(".ls-1")
const lsTwo = document.querySelector(".fac")
const kow = document.querySelector(".kok")
const moj = document.querySelector(".moj")
pase(lsOne, "tring")
pase(kow, "best")
pase(moj , "kamis" )


function pase(da, kek) {
    tring.forEach(function (item) {
        if (item.kay == kek) {
            da.innerHTML +=
                `
            <li class="splide__slide">
                        <a href="#" >
            
                            <div class="product-em" data-id="${item.id}  ">
                                <div class="product ">
                                    <div class="product-img " style=" overflow: hidden; height: 70% ;" >
                                        <img src="${item.src}" alt="" class="w-100 h-100" >
                                        <a href="#">
                                            <div class="blsch bvb" >
                                                
                                            </div>
                                            <div class="evg" >
                                            <a href="#" class="see"  data-id ="${item.id}">
                                                <div class="soci">
                                                <i class="fas fa-eye"></i>
                                                </div>
                                                
                                            </a>
                                            <a href="#" class="bvb">
                                                <div class="soci" >
                                                <i class="fas fa-cart-shopping"></i>
                                                </div>
                                            </a>
                                            <a href="#" class="love">
                                                <div class="soci loka">
                                                <i class="fas fa-heart"></i>
                                                
                                                </div>
                                            </a>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="product-ase w-100  d-flex flex-column">
                                        <a href="#"  style="color: #4f4f4f; text-decoration: none; margin: 10px 0px;" class="bvb"> SUTRA</a>
                                        <a href="#" style="text-decoration: none ;color: #000;;" class="bvb">${item.title}</a>
                                        <a href="#" style="color: #4f4f4f; text-decoration: none;" class="bvb">${item.price}</a>
                                    </div>
                                </div>
                            </div>
                            
                        </a>
                    </li>`
        }
    })


}
const see = document.querySelectorAll(".see")
const watsh = document.querySelector(".eye")
const baka = document.querySelector(".eye-backgroun")
watsh.addEventListener("click", function(e){
    if(e.target.classList.contains("caka")){
        const gah =document.getElementById("form1")
        const caka = e.target
        const kae = +gah.value
        const id = caka.closest(".eye").dataset.id
        const bj = tring.find(product => product.id == id)
        const csrtr = cart.find(product => product.id == id)
        if (bj !== undefined) {
            if (csrtr == undefined) {
                const ksa = { ...bj, size : kij.textContent }
                cart.push({ ...ksa,  quant : kae })
        }
        else {
            csrtr.size = kij.textContent 
            csrtr.quant = +kae
        }
    localStorage.setItem("cart", JSON.stringify(cart))
    window.location.reload();
    
    }
    bak.classList.add("k")
    cartt.classList.add("k")
    };
    
} )
const cart = JSON.parse(localStorage.getItem("cart")) ?? [];


const cars = document.querySelectorAll(".cass")
const cartca = document.querySelector(".cart-card")
cart.forEach(function (e) {
    cartca.innerHTML += `<div class="cardcor">
    <div class="car-img" style="  height: 100% ;">
        <img src="${e.src}" alt="" class="w-100">
    </div>
    <div class="car-text">
        <a href="#" class="dflex" style="color: black; text-decoration: none;"><p> ${e.title}</p></a>
        <p style="font-size: small;">${e.color} / ${e.size}</p>
        <p style="color:  rgb(99, 101, 102);font-size: medium;">${e.price}</p>
        <div class="d-flex  col-11" style=" border: #1c2939 1px solid;border-radius: 25px ; order: 1;margin-bottom: 10px; ">
                        <button class="btn btn-link px-2" style="width: 30%;color: #1c2939; ;" onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                            <i class="fas fa-minus"></i>
                        </button>
    
                        <input id="form1" min="0" name="quantity" value="${e.quant}" type="number" class="" style="width: 30%; border: 0 !important; outline: 0 !important; text-align: center;" >
    
                        <button class="btn btn-link px-2" style="color: #1c2939;width: 30%;" onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                            <i class="fas fa-plus"></i>
                        </button>
        </div>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="noma" style="margin-left: 13px;" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                                    <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                    <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
        </svg>
                    
                                <a href="#" class="btn-dele" style="color: black;" data-id ="${e.id}">
                                <i class="fas fa-trash "></i>
                                            </a>
    </div>
</div>`
})

const btndele = document.querySelectorAll(".btn-dele")
console.log(btndele);
btndele.forEach(function(e){
    
    console.log(e);
    e.addEventListener("click", function(klc){
        klc.preventDefault()
        const id = e.dataset.id
        console.log(id);
        let lclstrg = JSON.parse(localStorage.getItem("cart"))
        console.log(lclstrg);
        let newdata = lclstrg.filter(function(item){
            return item.id != id
        })
        localStorage.setItem("cart" , JSON.stringify(newdata))
        e.closest(".cardcor").remove()
    })
})

sees()

function sees() {
    see.forEach(function (em) {
        em.addEventListener("click", function (klc) {
            klc.preventDefault()
            const id = em.dataset.id
            const bj = tring.find(product => product.id == id)
                const ad = em.dataset.id
                if (ad == bj.id){
                    const sog = document.querySelector(".sog")
                    sog.src = bj.src
                    const tit = document.querySelector(".tit")
                    tit.textContent = bj.title
                    const pri =document.querySelector(".pri")
                    pri.textContent = bj.price
                    const cole = document.querySelector(".cole")
                    cole.textContent = bj.color
                    const eye = document.querySelector(".eye")
                    eye.dataset.id = bj.id
                    console.log(eye.dataset.id);
                    const par = lovebtn.closest(".eye")
        const ik = par.dataset.id
        console.log(ik);
        const csrtr = lovi.find(product => product.id == ik)
            if (csrtr !== undefined){
                lovebtn.classList.add("loving")
            }
            else{
                lovebtn.classList.remove("loving")
            }
                    watsh.classList.add("k")
                    baka.classList.add("k")
                }
                baka.addEventListener("click" ,function(){
                    baka.classList.remove("k")
                    watsh.classList.remove("k")
                })
                
            })
            
        })
    }
    const kij = document.querySelector(".made")
    const kain = document.querySelectorAll(".swatch__item")
    kain.forEach(function(en){
        en.addEventListener("click" ,function(klc){
            klc.preventDefault()
            kij.textContent = en.textContent
            removeAcc ()
            en.classList.add("acc")
            
        })
    })
    function removeAcc (){
        kain.forEach(function(en){
            en.classList.remove("acc")
        })
    }

    // const gah =document.getElementById("form1")
    // console.log(gah);
    // const caka = document.querySelector(".caka")
    // const kae = gah.textContent
    // console.log(kae);
    // caka.addEventListener("click", function (klc) {
    //     klc.preventDefault()
    //     const id = caka.closest(".eye").dataset.id
    //     const bj = tring.find(product => product.id == id)
    //     const csrtr = cart.find(product => product.id == id)
    //     if (bj !== undefined) {
    //         if (csrtr == undefined) {
    //             const ksa = { ...bj, size : kij.textContent }
    //             cart.push({ ...ksa,  quant : kae })
    //         }
    //         else {
    //             csrtr.size = kij.textContent 
    //             csrtr.quant += kae
    //         }
    //         localStorage.setItem("cart", JSON.stringify(cart))
    
    //     }
            
        // })
    

        




cars.forEach(function (e) {
    e.addEventListener("click", function (klc) {
        klc.preventDefault()
        const pare = e.closest(".product-em")
        const id = pare.dataset.id
        const bj = tring.find(product => product.id == id)
        const csrtr = cart.find(product => product.id == id)
        if (bj !== undefined) {
            if (csrtr == undefined) {
                cart.push({ ...bj, quant: 1 })
            }
            else {
                csrtr.quant++
            }
            localStorage.setItem("cart", JSON.stringify(cart))

        }

    })
})

const lovi = JSON.parse(localStorage.getItem("lovi")) ?? [];


const lovebtns = document.querySelectorAll(".loka")



lovebtns.forEach(function (e) {
    const pare = e.closest(".product-em")
        const id = pare.dataset.id
        const csrtr = lovi.find(product => product.id == id)
    if (csrtr !== undefined){
        e.classList.add("loving")
    }
    e.addEventListener("click", function (klc) {
        klc.preventDefault()
        const pare = e.closest(".product-em")
        const id = pare.dataset.id
        const bj = tring.find(product => product.id == id)
        const csrtr = lovi.find(product => product.id == id)
        
            if (csrtr == undefined) {
                lovi.push(bj)
                e.classList.add("loving")
            }
            else{
                window.open("love.html", "_self")
                
            }

            localStorage.setItem("lovi", JSON.stringify(lovi))
            
    })
    
})
const lovebtn = document.querySelector(".lokk")

        
        lovebtn.addEventListener("click", function (klc) {
            klc.preventDefault()
            const par = lovebtn.closest(".eye")
        const ik = par.dataset.id
        const bj = tring.find(product => product.id == ik)
        const csrt = lovi.find(product => product.id == ik)
            
                if (csrt == undefined) {
                    lovi.push(bj)
                    lovebtn.classList.add("loving")
                }
                else{
                    window.open("love.html", "_self")
                }
                localStorage.setItem("lovi", JSON.stringify(lovi))
                
        })
        











const open = document.querySelector(".open")
const cartt = document.querySelector(".cart")
const bak = document.querySelector(".bls4")
const close = document.querySelector(".close")
document.body.addEventListener("click", function(e){
    e.preventDefault()
    if(e.target.classList.contains("fa-cart-shopping")){
    bak.classList.add("k")
    cartt.classList.add("k")
    }
})
// open.addEventListener("click", function (e) {
//     e.preventDefault()
//     bak.classList.add("k")
//     cartt.classList.add("k")
// })
close.addEventListener("click", function (e) {
    e.preventDefault()
    bak.classList.remove("k")
    cartt.classList.remove("k")
})

const coco = document.querySelector(".header")
const owp = document.querySelector(".opw")
const clos = document.querySelector(".cee")

owp.addEventListener("click", function (e) {
    e.preventDefault()
    coco.classList.add("k")
})
clos.addEventListener("click", function (e) {
    e.preventDefault()
    coco.classList.remove("k")
})
const tasks = []
const productEm = document.querySelectorAll(".bvb")

buy(tring)


function buy(obj) {
    productEm.forEach(function (em) {
        em.addEventListener("click", function (klc) {
            klc.preventDefault()
            const id = em.closest(".product-em").dataset.id
            const bj = obj.find(product => product.id == id)
            const csrtr = tasks.find(product => product.id == id)
            if (bj !== undefined) {
                if (csrtr == undefined) {
                    tasks.push(bj)
                }
            }
            localStorage.setItem("kok", JSON.stringify(tasks));
            let lclstrg = JSON.parse(localStorage.getItem("kok"))
            let newdata = lclstrg.filter(function (item) {
                if (item.id == bj.id) {
                    return item
                }
            })
            localStorage.setItem("kok", JSON.stringify(newdata))
            window.open("acc.html", "_self")
        })
    })
}

// const see = document.querySelectorAll(".see")
// const watsh = document.querySelectorAll(".eye")
// const baka = document.querySelector(".eye-backgroun")
// console.log(watsh);

// sees(tring)

// function sees(obj) {
//     see.forEach(function (em) {
//         em.addEventListener("click", function (klc) {
//             klc.preventDefault()
//             const id = em.dataset.id
//             const bj = obj.find(product => product.id == id)
//             watsh.forEach(function(gg){
//                 const ad = gg.dataset.id
//                 const jj = gg
//                 if (ad == bj.id){
//                     gg.classList.add("k")
//                     baka.classList.add("k")
                    
//                 }
//                 baka.addEventListener("click" ,function(){
//                     baka.classList.remove("k")
//                     jj.classList.remove("k")
//                 })
                
//             })
            
            
            
            
//         })
//     })
// }

const heart = document.querySelector(".heart")
heart.addEventListener("click" , function(){
    window.open("love.html", "_self")
})
const log= document.querySelector(".log")
log.addEventListener("click" , function(){
    window.open("login.html", "_self")
})
const profile = JSON.parse(localStorage.getItem("profile"))
if (profile[0]){
    log.addEventListener("click" , function(){
        window.open("profile.html", "_self")
    })
}
const lOne = document.querySelector(".l-1")
lOne.addEventListener("click" , function(){
    window.open("innex.html", "_self")
})
const ltwo = document.querySelector(".l-2")
ltwo.addEventListener("click" , function(){
    window.open("man.html", "_self")
})